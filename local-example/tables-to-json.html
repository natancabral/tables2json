<!DOCTYPE HTML>
<html>

<head>
  <title>
    How to convert JSON data to a
    html table using JavaScript ?
  </title>
</head>

<body style="text-align:center;" id="body">

  <h1 style="color:green;">
    GeeksForGeeks
  </h1>

  <p id="GFG_UP" style="font-size: 15px; font-weight: bold;">
  </p>

  <br><br>

  <table align="center" id="table" border="1">
  </table>

  <table id="table1" border="1" align="center">
    <thead>
      <tr><th>col_1</th><th>col_3</th><th>col_2</th></tr>
    </thead>
    <tbody>
      <tr><td>val_11</td><td>val_13</td><td></td></tr><tr><td></td><td>val_23</td><td>val_22</td></tr><tr><td>val_31</td><td>val_33</td><td></td></tr>
    </tbody>
  </table>

  <table id="table2" border="1" align="center">
    <tr><th>col_1</th><th>col_3</th><th>col_2</th></tr>
    <tr><td>val_11</td><td>val_13</td><td></td></tr><tr><td></td><td>val_23</td><td>val_22</td></tr><tr><td>val_31</td><td>val_33</td><td></td></tr>
  </table>

  <script>

    function t2j( element ){

      let head = [];
      let data = [];

    const table = element;
    const rows = table.rows.length;
      let cells = 0;
      let text = '';

    for( var r = 0; r < rows; r++ ){
      cells || (cells = table.rows[0].cells.length);
      let simpleRow = [];
      for( var c = 0; c < cells; c++ ){
        text = table.rows[r].cells[c].textContent;
        if( r === 0 ) {
          head.push(text);
        }else {
          simpleRow.push(text);
        }
      }
      simpleRow.length && data.push(simpleRow);
    }

    return {
      headers: head,
      datas: [],
      rows: data,
    };

    // console.log(head, data);
    // console.log(table.rows);
    // console.log(table.rows.length);
    // console.log(table.rows[0].cells);
    // console.log(table.rows[0].cells[0].textContent);
    // console.log(table.rows[0].cells[0].cellIndex);
    // console.log(table.rows[0].innerHTML);

    }


    function tableToJson( idElement ){
      return t2j(document.getElementById(idElement));
    }

    function allTablesToJson(){  
      
        let all = [];

      const table = document.getElementsByTagName('table');
      const rows = table.length;
        let cells = 0;
        let text = '';

      for( var r = 0; r < rows; r++ ){
        all.push( t2j(table[r]) );
      }

      return all;

    }

    // tableToJson('table1');
    // allTablesToJson();

  </script>

</body>

</html>